function parseXml(a){if($.browser.msie){var b=new ActiveXObject("Microsoft.XMLDOM");b.loadXML(a);a=b}xmldoc=a;CreateVariants();InitVariants();ActiveVariants();overVariantSize0(0);setVariantSize0(0)}function CreateVariants(){var a=0;var b=0;var c=0;$(xmldoc).find("variant").each(function(){if($("#size0SelectorContent input[title="+$(this).attr("size0")+"]").length==0){$("#size0SelectorContent div#sizes0").append('<input rel="'+$(this).attr("pimgval")+'" type="image" title="'+$(this).attr("size0")+'" id="size0_'+a+'" onmouseover="overVariantSize0('+a+');" onmouseout="outVariantSize0('+a+');" onclick="setVariantSize0('+a+');return false;" class="soldOut" src="'+$(this).attr("size0img")+'" ></input>');a=a+1}if($("#size1SelectorContent button[title="+$(this).attr("size1")+"]").length==0){$("#size1SelectorContent div#sizes1").append('<button rel="variant" type="button" title="'+$(this).attr("size1")+'" id="size1_'+b+'" onmouseover="overVariantSize1('+b+');" onmouseout="outVariantSize1('+b+');" onclick="setVariantSize1('+b+');" class="soldOut" >'+$(this).attr("size1")+"</button>");b=b+1}if($("#size2SelectorContent button[title="+$(this).attr("size2")+"]").length==0){$("#size2SelectorContent div#sizes2").append('<button rel="variant" type="button" title="'+$(this).attr("size2")+'" id="size2_'+c+'" onmouseover="overVariantSize2('+c+');" onmouseout="outVariantSize2('+c+');" onclick="setVariantSize2('+c+');" class="soldOut">'+$(this).attr("size2")+"</button>");c=c+1}})}function InitVariants(){$(xmldoc).find("variant[qty != '0']").each(function(){$("#size0SelectorContent input[title="+$(this).attr("size0")+"]").attr("class","normal");$("#size1SelectorContent button[title="+$(this).attr("size1")+"]").attr("class","normal");$("#size2SelectorContent button[title="+$(this).attr("size2")+"]").attr("class","normal")})}function ActiveVariants(){$(xmldoc).find("variant[qty != '0']").each(function(){if($(this).attr("size0")!=null){Size0Active=true;$("#size0SelectorContent").show()}if($(this).attr("size1")!=null){Size1Active=true;$("#size1SelectorContent").show()}if($(this).attr("size2")!=null){Size2Active=true;$("#size2SelectorContent").show()}return false})}function CheckCartButton(){var a=true;if(Size0Active==true&&a==true&&SelectedSize0Id<0){a=false}if(Size1Active==true&&a==true&&SelectedSize1Id<0){a=false}if(Size2Active==true&&a==true&&SelectedSize2Id<0){a=false}if(a==true){if($(xmldoc).find("variant[size0 ='"+SelectedSize0+"'][size1='"+SelectedSize1+"'][size2='"+SelectedSize2+"']").attr("qty")>0){SizesSelectedUnitId=$(xmldoc).find("variant[size0 ='"+SelectedSize0+"'][size1='"+SelectedSize1+"'][size2='"+SelectedSize2+"']").attr("id");SizesSelectedInStock=true;$(".cartbutton2").button("option","label",AddToCartMsg)}else{SizesSelectedUnitId=$(xmldoc).find("variant[size0 ='"+SelectedSize0+"'][size1='"+SelectedSize1+"'][size2='"+SelectedSize2+"']").attr("id");SizesSelectedInStock=false;$(".cartbutton2").button("option","label",StockOutMsg)}}}function resetButtons(){if(SelectedSize0Id>=0){overVariantSize0(SelectedSize0Id);setVariantSize0(SelectedSize0Id)}else{$("#size0SelectorContent #textSize0").html("")}if(SelectedSize1Id>=0){overVariantSize1(SelectedSize1Id);setVariantSize1(SelectedSize1Id)}else{$("#size1SelectorContent #textSize1").html("")}if(SelectedSize2Id>=0){overVariantSize2(SelectedSize2Id);setVariantSize2(SelectedSize2Id)}else{$("#size2SelectorContent #textSize2").html("")}}function outVariantSize0(a){InitVariants();$("#size0SelectorContent input[id=size0_"+a+"]").removeClass("hover");resetButtons()}function overVariantSize0(a){$("#size0SelectorContent input:not(.selected):not(.soldOut):not(.selectedSoldOut)[id=size0_"+a+"]").addClass("hover");var b=$("#size0SelectorContent input[id=size0_"+a+"]").attr("title");$("#size0SelectorContent #textSize0").html(b);$("#size1SelectorContent").find("button").each(function(){var a=$(this).attr("title");if(SelectedSize2Id>=0){if($(xmldoc).find("variant[size0 ='"+b+"'][size1='"+a+"'][size2='"+SelectedSize2+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize1==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize1==a){$(this).attr("class","selectedSoldOut")}}}else{if($(xmldoc).find("variant[size0 ='"+b+"'][size1='"+a+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize1==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize1==a){$(this).attr("class","selectedSoldOut")}}}});$("#size2SelectorContent").find("button").each(function(){var a=$(this).attr("title");if(SelectedSize1Id>=0){if($(xmldoc).find("variant[size0 ='"+b+"'][size1='"+SelectedSize1+"'][size2='"+a+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize2==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize2==a){$(this).attr("class","selectedSoldOut")}}}else{if($(xmldoc).find("variant[size0 ='"+b+"'][size2='"+a+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize2==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize2==a){$(this).attr("class","selectedSoldOut")}}}});var c=$("#size0SelectorContent input[id=size0_"+a+"]").attr("rel");$(".slider_nav li a img").each(function(){if($(this).attr("src").indexOf(c)>=0){$(this).trigger("click");return}})}function setVariantSize0(a){if(a>=0){$("#size0SelectorContent input:not(.selected):not(.soldOut):not(.selectedSoldOut)[id=size0_"+a+"]").attr("class","selected");SelectedSize0=$("#size0SelectorContent input[id=size0_"+a+"]").attr("title");SelectedSize0Id=a;$("#size0SelectorContent #textSize0").html(SelectedSize0);CheckCartButton()}}function outVariantSize1(a){InitVariants();$("#size1SelectorContent button[id=size1_"+a+"]").removeClass("hover");resetButtons()}function overVariantSize1(a){$("#size1SelectorContent button:not(.selected):not(.soldOut):not(.selectedSoldOut)[id=size1_"+a+"]").addClass("hover");var b=$("#size1SelectorContent button[id=size1_"+a+"]").attr("title");$("#size1SelectorContent #textSize1").html(b);$("#size0SelectorContent").find("input").each(function(){var a=$(this).attr("title");if(SelectedSize2Id>=0){if($(xmldoc).find("variant[size0 ='"+a+"'][size1='"+b+"'][size2='"+SelectedSize2+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize0==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize0==a){$(this).attr("class","selectedSoldOut")}}}else{if($(xmldoc).find("variant[size0 ='"+a+"'][size1='"+b+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize0==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize0==a){$(this).attr("class","selectedSoldOut")}}}});$("#size2SelectorContent").find("button").each(function(){var a=$(this).attr("title");if(SelectedSize0Id>=0){if($(xmldoc).find("variant[size0 ='"+SelectedSize0+"'][size1='"+b+"'][size2='"+a+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize2==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize2==a){$(this).attr("class","selectedSoldOut")}}}else{if($(xmldoc).find("variant[size0 ='"+SelectedSize0+"'][size2='"+a+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize0==size0Value){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize0==size0Value){$(this).attr("class","selectedSoldOut")}}}})}function setVariantSize1(a){if(a>=0){$("#size1SelectorContent button:not(.selected):not(.soldOut):not(.selectedSoldOut)[id=size1_"+a+"]").attr("class","selected");SelectedSize1=$("#size1SelectorContent button[id=size1_"+a+"]").attr("title");SelectedSize1Id=a;$("#size1SelectorContent #textSize1").html(SelectedSize1);CheckCartButton()}}function outVariantSize2(a){InitVariants();$("#size2SelectorContent button[id=size2_"+a+"]").removeClass("hover");resetButtons()}function overVariantSize2(a){$("#size2SelectorContent button:not(.selected):not(.soldOut):not(.selectedSoldOut)[id=size2_"+a+"]").addClass("hover");var b=$("#size2SelectorContent button[id=size2_"+a+"]").attr("title");$("#size2SelectorContent #textSize2").html(b);$("#size0SelectorContent input").attr("class","soldOut");$("#size0SelectorContent").find("input").each(function(){var a=$(this).attr("title");if(SelectedSize1Id>=0){if($(xmldoc).find("variant[size0 ='"+a+"'][size1='"+SelectedSize1+"'][size2='"+b+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize0==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize0==a){$(this).attr("class","selectedSoldOut")}}}else{if($(xmldoc).find("variant[size0 ='"+a+"'][size2='"+b+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize0==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize0==a){$(this).attr("class","selectedSoldOut")}}}});$("#size1SelectorContent button").attr("class","soldOut");$("#size1SelectorContent").find("button").each(function(){var a=$(this).attr("title");if(SelectedSize1Id>=0){if($(xmldoc).find("variant[size0 ='"+SelectedSize0+"'][size1='"+a+"'][size2='"+b+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize1==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize1==a){$(this).attr("class","selectedSoldOut")}}}else{if($(xmldoc).find("variant[size0 ='"+SelectedSize0+"'][size1='"+a+"'][size2='"+b+"'][qty != '0']").attr("qty")>0){$(this).attr("class","normal");if(SelectedSize1==a){$(this).attr("class","selected")}}else{$(this).attr("class","soldOut");if(SelectedSize1==a){$(this).attr("class","selectedSoldOut")}}}})}function setVariantSize2(a){if(a>=0){$("#size2SelectorContent button:not(.selected):not(.soldOut):not(.selectedSoldOut)[id=size2_"+a+"]").attr("class","selected");SelectedSize2=$("#size2SelectorContent button[id=size2_"+a+"]").attr("title");SelectedSize2Id=a;$("#size2SelectorContent #textSize2").html(SelectedSize2);CheckCartButton()}}var SizesSelectedInStock=false;var SizesSelectedUnitId="";var Size0Active=false;var Size1Active=false;var Size2Active=false;var HoveredSize0Id="-1";var HoveredSize1Id="-1";var HoveredSize2Id="-1";var SelectedSize0Id="-1";var SelectedSize1Id="-1";var SelectedSize2Id="-1";var SelectedSize0="";var SelectedSize1="";var SelectedSize2="";var xmldoc;$(document).ready(function(){$.ajax({type:"GET",url:"/store/productsizesxml.aspx?ProductId="+ProductId,cache:false,dataType:$.browser.msie?"text":"xml",success:parseXml})})