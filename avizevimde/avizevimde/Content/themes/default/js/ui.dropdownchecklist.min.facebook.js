function DDCL_DropDownCheckList_OpenCheckList(){if(this.dropDownMode==DDCL_DROPDOWNMODE_INLINE){this.divCheckboxes.style.display="block"}else{this.divCheckboxes.style.left=DDCL_findPosX(this.divDisplayBox);this.divCheckboxes.style.top=DDCL_findPosY(this.divDisplayBox)+this.divDisplayBox.offsetHeight;this.divCheckboxes.style.display="block";if(this.dropDownMode==DDCL_DROPDOWNMODE_ONTOPWITHSHIM){this.shim.style.width=this.divCheckboxes.offsetWidth;this.shim.style.height=this.divCheckboxes.offsetHeight;this.shim.style.top=this.divCheckboxes.style.top;this.shim.style.left=this.divCheckboxes.style.left;this.shim.style.zIndex=this.divCheckboxes.style.zIndex-1;this.shim.style.display="block"}}}function DDCL_DropDownCheckList_CloseCheckList(){this.divCheckboxes.style.display="none";if(this.dropDownMode==DDCL_DROPDOWNMODE_ONTOPWITHSHIM)this.shim.style.display="none"}function DDCL_DropDownCheckList_ToggleCheckList(){if(this.divCheckboxes.style.display!="none")this.CloseCheckList();else this.OpenCheckList()}function DDCL_DropDownCheckList_HandleDisplayBoxClick(){this.ToggleCheckList()}function DDCL_DropDownCheckList_HandleCheckboxClick(){this.DisplayCheckedItems()}function DDCL_DropDownCheckList_DisplayCheckedItems(){var a="";var b="";var c="";var d="";var e="";var f="";var g=false;var h=this.divCheckboxes.getElementsByTagName("input");this.divText.innerHTML="";this.divDisplayBox.title="";this.sValues="";for(var i=0;i<h.length;i++){if(h[i].type=="checkbox"&&h[i].checked){if(this.displayList==DDCL_DISPLAYTEXTLIST_LABELS)b=this.GetLabelForCheckbox(h[i]);else b=h[i].value;a=h[i].value;if(c!=""){c+=this.separator;d+=this.separator;this.sValues+=this.separator}d+=b;c+=b;this.sValues+=a;if(g==false){this.divText.innerHTML="<nobr>"+c+"</nobr>";if(this.divText.offsetWidth>this.boundingBoxWidth&&this.allowExpand==false){while(this.divText.offsetWidth>this.boundingBoxWidth&&c.length>0){c=c.substr(0,c.length-1);this.divText.innerHTML="<nobr>"+c+this.truncateString+"</nobr>"}g=true}}}}if(this.divText.innerHTML==""){if(this.textWhenNone=="")this.divText.innerHTML=" ";else this.divText.innerHTML=this.textWhenNone}if(g)this.divDisplayBox.title=d;else this.divDisplayBox.title=""}function DisplayPriceCheckedItems(a){var b=DDCL_GetObject(a);var c=window.location.href+"?";if(window.location.href.indexOf("?")>0){var d=window.location.href.indexOf("?");c=window.location.href.substring(0,d)}c+="?PriceID="+b.sValues;var e=window.location.search.substring(1);var f=e.split("&");for(i=0;i<f.length;i++){qs=f[i].split("=");if(qs[0]!="Page"){if(qs[0]!="PriceID"){c+="&"+qs[0]+"="+qs[1]}}}window.location.href=c}function DisplayTypeCheckedItems(a){var b=DDCL_GetObject(a);var c=window.location.href+"?";if(window.location.href.indexOf("?")>0){var d=window.location.href.indexOf("?");c=window.location.href.substring(0,d)}c+="?TypeID="+b.sValues;var e=window.location.search.substring(1);var f=e.split("&");for(i=0;i<f.length;i++){qs=f[i].split("=");if(qs[0]!="Page"){if(qs[0]!="TypeID"){c+="&"+qs[0]+"="+qs[1]}}}window.location.href=c}function DisplayMarkCheckedItems(a){var b=DDCL_GetObject(a);var c=window.location.href+"?";if(window.location.href.indexOf("?")>0){var d=window.location.href.indexOf("?");c=window.location.href.substring(0,d)}c+="?MarkId="+b.sValues;var e=window.location.search.substring(1);var f=e.split("&");for(i=0;i<f.length;i++){qs=f[i].split("=");if(qs[0]!="Page"){if(qs[0]!="MarkId"){c+="&"+qs[0]+"="+qs[1]}}}window.location.href=c}function DDCL_DropDownCheckList_GetLabelForCheckbox(a){var b=this.divCheckboxes.getElementsByTagName("label");for(var c=0;c<b.length;c++){if(b[c].htmlFor==a.id){for(var d=0;d<b[c].childNodes.length;d++){if(b[c].childNodes[d].nodeType==3){return b[c].childNodes[d].nodeValue}}}}return null}function DDCL_DropDownCheckList(id,textWhenNone,separator,truncateString,dropDownMode,allowExpand,displayList){this.id=id;this.sValues="";this.textWhenNone=textWhenNone;this.separator=separator;this.truncateString=truncateString;this.dropDownMode=dropDownMode;this.allowExpand=allowExpand;this.displayList=displayList;this.divCheckboxes=document.getElementById(id+"_checkboxes");this.divBoundingBox=document.getElementById(id+"_boundingbox");this.divText=document.getElementById(id+"_text");this.divDisplayBox=document.getElementById(id+"_displaybox");this.img=document.getElementById(id+"_img");this.shim=document.getElementById(id+"_shim");this.boundingBoxWidth=this.divBoundingBox.offsetWidth;this.divCheckboxes.style.display="none";this.divDisplayBox.onclick=DDCL_HandleDisplayBoxClick;this.divCheckboxes.onclick=DDCL_HandleCheckboxDivClick;var e=this.divCheckboxes.getElementsByTagName("input");for(var i=0;i<e.length;i++){if(e[i].type=="checkbox"){e[i].onclick=DDCL_HandleCheckboxClick}}if(document.attachEvent){document.attachEvent("onclick",function(){eval("DDCL_HandleDocumentClick('"+id+"');")})}else if(document.addEventListener){document.addEventListener("click",function(){eval("DDCL_HandleDocumentClick('"+id+"');")},false)}this.DisplayCheckedItems();ddcl_Objects.push(this)}function DDCL_HandleDocumentClick(a){var b=DDCL_GetObject(a);if(b){if(b.inCheckboxDiv==true)b.inCheckboxDiv=false;else b.CloseCheckList()}}function DDCL_HandleCheckboxDivClick(a){if(!a)var a=window.event;if(a){var b=DDCL_GetObject(this.id);if(b)b.inCheckboxDiv=true}}function DDCL_HandleDisplayBoxClick(a){if(!a)var a=window.event;if(a){var b=this;if(b){var c=DDCL_GetObject(b.id);if(c){c.HandleDisplayBoxClick();c.inCheckboxDiv=true}}}}function DDCL_HandleCheckboxClick(a){if(!a)var a=window.event;if(a){var b=this;if(b){var c=DDCL_GetObject(b.id);if(c){c.HandleCheckboxClick();c.inCheckboxDiv=true}}}}function DDCL_HandleCheckboxClickById(a){var b=DDCL_GetObject(a);b.HandleCheckboxClick()}function DDCL_findPosY(a){var b=0;if(a.offsetParent){while(a.offsetParent){b+=a.offsetTop;a=a.offsetParent}}else if(a.y)b+=a.y;return b}function DDCL_findPosX(a){var b=0;if(a.offsetParent){while(a.offsetParent){b+=a.offsetLeft;a=a.offsetParent}}else if(a.x)b+=a.x;return b}function DDCL_GetObject(a){for(var b=0;b<ddcl_Objects.length;b++){if(a.substring(0,ddcl_Objects[b].id.length)==ddcl_Objects[b].id){return ddcl_Objects[b]}}return null}var DDCL_DROPDOWNMODE_INLINE=0;var DDCL_DROPDOWNMODE_ONTOP=1;var DDCL_DROPDOWNMODE_ONTOPWITHSHIM=2;var DDCL_DISPLAYTEXTLIST_LABELS=0;var DDCL_DISPLAYTEXTLIST_VALUES=1;ddcl_Objects=new Array;DDCL_DropDownCheckList.prototype.DisplayCheckedItems=DDCL_DropDownCheckList_DisplayCheckedItems;DDCL_DropDownCheckList.prototype.GetLabelForCheckbox=DDCL_DropDownCheckList_GetLabelForCheckbox;DDCL_DropDownCheckList.prototype.HandleCheckboxClick=DDCL_DropDownCheckList_HandleCheckboxClick;DDCL_DropDownCheckList.prototype.HandleDisplayBoxClick=DDCL_DropDownCheckList_HandleDisplayBoxClick;DDCL_DropDownCheckList.prototype.ToggleCheckList=DDCL_DropDownCheckList_ToggleCheckList;DDCL_DropDownCheckList.prototype.CloseCheckList=DDCL_DropDownCheckList_CloseCheckList;DDCL_DropDownCheckList.prototype.OpenCheckList=DDCL_DropDownCheckList_OpenCheckList